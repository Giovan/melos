From 3c08496a269f4d4fbd847f0da29a95ab9272385b Mon Sep 17 00:00:00 2001
From: Caedmon Judd <caedmon@statebuilt.com>
Date: Fri, 28 Oct 2011 11:38:56 -0500
Subject: [PATCH 40/55] Much improved.  Various updates.

---
 app/controllers/notes_controller.rb          |   37 ++-
 app/models/note.rb                           |   23 +-
 app/models/reference.rb                      |    4 +
 app/views/notes/_form.html.haml              |    2 +-
 app/views/notes/index.html.haml              |    4 +-
 app/views/notes/show.html.haml               |    6 +-
 features/notes.feature                       |    8 +-
 features/support/paths.rb                    |    4 +-
 fixtures/vcr/cuke/cucumber_tags/bible.yml    |  432 ++++++++++++++++----------
 fixtures/vcr/cuke/cucumber_tags/no_user.yml  |    8 +-
 fixtures/vcr/cuke/cucumber_tags/user.yml     |   12 +-
 fixtures/vcr/cuke/cucumber_tags/versions.yml |   16 +-
 lib/osis.rb                                  |    8 +
 13 files changed, 359 insertions(+), 205 deletions(-)

diff --git a/app/controllers/notes_controller.rb b/app/controllers/notes_controller.rb
index a216a42..b6cf1ea 100644
--- a/app/controllers/notes_controller.rb
+++ b/app/controllers/notes_controller.rb
@@ -1,7 +1,11 @@
 class NotesController < ApplicationController
   
-  def index    
-    @notes = Note.all(current_auth.id, current_auth)    
+  def index
+    if current_auth
+      @notes = Note.all(current_auth.id, current_auth)
+    else
+      @notes = Note.all(nil, nil)
+    end
   end
 
   def show
@@ -10,15 +14,24 @@ class NotesController < ApplicationController
   end
 
   def new
-    @note = Note.new()
-    #@url_path = notes_path
-    #@url_method = :post
+    if current_auth
+      @note = Note.new()
+      @url_path = notes_path
+      @url_method = :post
+    else
+      redirect_to notes_path
+    end
   end
         
   def edit
-    @note = Note.find(params[:id], current_auth)    
-    #@url_path = notes_path << '/' << params[:id]
-    #@url_method = :put
+    if current_auth
+      @note = Note.find(params[:id], current_auth)
+      @note.reference = @note.reference.osis_noversion
+      @url_path = notes_path << '/' << params[:id]
+      @url_method = :put
+    else
+      redirect_to notes_path
+    end    
   end
 
   def create
@@ -28,8 +41,8 @@ class NotesController < ApplicationController
     if @note.create
       render action: "show"
     else
-      #@url_path = notes_path
-      #@url_method = :post      
+      @url_path = notes_path
+      @url_method = :post
       render action: "new"
     end    
   end
@@ -40,8 +53,8 @@ class NotesController < ApplicationController
     if @note.update(params[:id], params[:note])
       render action: "show"
     else
-      #@url_path = notes_path << '/' << params[:id]
-      #@url_method = :put      
+      @url_path = notes_path << '/' << params[:id]
+      @url_method = :put
       render action: "edit"
     end    
   end
diff --git a/app/models/note.rb b/app/models/note.rb
index 125c2ab..2989cf3 100644
--- a/app/models/note.rb
+++ b/app/models/note.rb
@@ -9,7 +9,7 @@ class Note
   attr_reader :errors
   
   def initialize(params = {})
-    reg_data = {id: 0, title: "", content: "", language_iso: "", reference: "", version: "", published: "", user_status: "", share_connections: "", auth: nil}    
+    reg_data = {id: 0, title: "", content: "", prexml_content: "", language_iso: "", reference: "", version: "", published: "", user_status: "", share_connections: "", auth: nil}    
     initialize_class(self, params, reg_data)    
   end
   
@@ -49,7 +49,7 @@ class Note
         @errors = errors.map { |e| e["error"] }
         return false
       end
-    else        
+    elsif !auth
       response = YvApi.get('notes/items') do |errors|     
         @errors = errors.map { |e| e["error"] }
         return false
@@ -65,29 +65,38 @@ class Note
     
   def create
     @token = Digest::MD5.hexdigest "#{auth.username}.Yv6-#{auth.password}"
+    @prexml_content = @content
     @content = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE yv-note SYSTEM \"http://#{Cfg.api_root}/pub/yvml_1_0.dtd\"><yv-note>#{@content}</yv-note>"
     @reference = @reference.gsub('+', '%2b')
 
     response = YvApi.post('notes/create', class_attributes(:title, :content, :language_iso, :reference, :version,
         :published, :user_status, :shared_connections, :token, :auth)) do |errors|
-      @errors = errors.map { |e| e["error"] }      
+      @errors = errors.map { |e| e["error"] }
+      @content = @prexml_content
       return false
     end
-    id = response.id    
+
+    @id = response.id
+    @version = Version.new(response.version)
+    @reference = Reference.new("#{Model::hash_to_osis(response.reference)}.#{response.version}")
     response
   end
   
   def update(id, fields)
     set_class_values(self, fields)
     @token = Digest::MD5.hexdigest "#{auth.username}.Yv6-#{auth.password}"
+    @prexml_content = @content
     @content = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE yv-note SYSTEM \"http://#{Cfg.api_root}/pub/yvml_1_0.dtd\"><yv-note>#{@content}</yv-note>"
     @reference = @reference.gsub('+', '%2b')
 
     response = YvApi.post('notes/update', class_attributes(:id, :title, :content, :language_iso, :reference, :version,
         :published, :user_status, :shared_connections, :token, :auth)) do |errors|
-      @errors = errors.map { |e| e["error"] }      
+      @errors = errors.map { |e| e["error"] }
+      @content = @prexml_content
       return false
     end
+    @version = Version.new(response.version)
+    @reference = Reference.new("#{Model::hash_to_osis(response.reference)}.#{response.version}")
     response
   end
   
@@ -106,9 +115,9 @@ class Note
   def self.build_object(response, auth)
     @note = Note.new(response)
     @note.auth = auth
-    #@note.content = @note.content_html
     @note.content = @note.content_text
-    @note.reference = Model::hash_to_osis(@note.reference)
+    @note.version = Version.new(@note.version)
+    @note.reference = Reference.new("#{Model::hash_to_osis(@note.reference)}.#{@note.version.osis}")
     @note
   end
   
diff --git a/app/models/reference.rb b/app/models/reference.rb
index 49eca6e..2b25825 100644
--- a/app/models/reference.rb
+++ b/app/models/reference.rb
@@ -48,6 +48,10 @@ class Reference
   def osis
     @ref.to_osis_string
   end
+  
+  def osis_noversion
+    @ref.to_osis_string_noversion
+  end
 
   def to_api
     
diff --git a/app/views/notes/_form.html.haml b/app/views/notes/_form.html.haml
index b738771..14e6797 100644
--- a/app/views/notes/_form.html.haml
+++ b/app/views/notes/_form.html.haml
@@ -1,4 +1,4 @@
-= form_for @note do |f|
+= form_for @note, :url => @url_path, :method => @url_method do |f|
   - if @note.errors
     .form_errors
       The following error(s) prevented creation of your note:
diff --git a/app/views/notes/index.html.haml b/app/views/notes/index.html.haml
index 6f7fb6f..6246bed 100644
--- a/app/views/notes/index.html.haml
+++ b/app/views/notes/index.html.haml
@@ -1,11 +1,11 @@
 #note
-  %h1= "My Notes"
+  %h1= "Notes"
   - if @notes
     - @notes.each do |note|
       %div{id: note.id}
         %div{class: "title"}= link_to note.title, note_path(note.id)
         %div{class: "content"}= note.content_text
-        %div{class: "reference"}= note.reference
+        %div{class: "reference"}= link_to note.reference, bible_path(note.reference.osis)
         %div{class: "status"}= note.user_status
   - else
     %div{class: "none"}= "Sorry, no notes here!"
\ No newline at end of file
diff --git a/app/views/notes/show.html.haml b/app/views/notes/show.html.haml
index 1c0df40..c3b9576 100644
--- a/app/views/notes/show.html.haml
+++ b/app/views/notes/show.html.haml
@@ -7,8 +7,8 @@
   = label_tag :version, "Note Version:"
   = @note.version
   = label_tag :reference, "Note Reference:"
-  = @note.reference
+  = link_to @note.reference, bible_path(@note.reference)
   = label_tag :user_status, "Note Status:"
   = @note.user_status
-  = link_to 'edit', edit_note_path(@note.id)
-  = link_to 'delete this note', note_path(@note.id), :confirm => 'Are you sure?', :method => :delete
\ No newline at end of file
+  = current_auth ? link_to('edit', edit_note_path(@note.id)) : ""
+  = current_auth ? link_to('delete this note', note_path(@note.id), :confirm => 'Are you sure?', :method => :delete) : ""
\ No newline at end of file
diff --git a/features/notes.feature b/features/notes.feature
index 38f508c..42efc5b 100644
--- a/features/notes.feature
+++ b/features/notes.feature
@@ -15,9 +15,9 @@ Feature: Notes view
     And I select "Public" from the dropdown "note_user_status"
     And I click "Save" 
     Then I should be on a show note page
-    And I should see "Note Title" 
-    And I should see "Note Content" 
-    And I should see a link to "Genesis 1:1"
+    And I should see "Public Note" 
+    And I should see "Public Content" 
+    And I should see a link to "Genesis 1:1 (KJV)"
     
   @bible
   Scenario: Update note
@@ -33,7 +33,7 @@ Feature: Notes view
     When I follow "edit" 
     And I fill in "Title" with "A Different Public Note" 
     And I click "Save" 
-    Then I should be on a show note page
+    Then I should be on the show note page 935909
     And I should see "A Different Public Note" 
     And I should see "Your note has been updated."
     
diff --git a/features/support/paths.rb b/features/support/paths.rb
index 3a451f1..af39a57 100644
--- a/features/support/paths.rb
+++ b/features/support/paths.rb
@@ -23,7 +23,9 @@ module NavigationHelpers
     when /^the notes index page$/
       notes_path      
     when /^a show note page$/
-      notes_path $1
+      notes_path
+    when /^the show note page (\d+)$/
+      "#{notes_path}/#{$1}"
       
     # Add more mappings here.
     # Here is an example that pulls values out of the Regexp:
diff --git a/fixtures/vcr/cuke/cucumber_tags/bible.yml b/fixtures/vcr/cuke/cucumber_tags/bible.yml
index 8f75c80..b125991 100644
--- a/fixtures/vcr/cuke/cucumber_tags/bible.yml
+++ b/fixtures/vcr/cuke/cucumber_tags/bible.yml
@@ -15,7 +15,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:16 GMT
+      - Fri, 28 Oct 2011 16:21:29 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -25,7 +25,7 @@
       vary:
       - Accept-Encoding
     body: ! '{"response":{"code":200,"data":{"id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"name":null,"first_name":null,"last_name":null,"location":null,"im_type":null,"im_value":null,"website":null,"mobile":null,"postal_code":null,"language":"false","country":"  ","timezone":"UTC","created":"2011-10-21
-      13:26:48.226265+00","last_login":"2011-10-25 21:20:16+00","twitter":null,"facebook":null,"email":"testuser@youversion.com","notice_badges":"true","notice_contrib_fav":"true","notice_follower":"true","notice_newsletter":"false","notice_reading_plans":"true"},"buildtime":"2011-10-25T21:20:16+00:00"}}'
+      13:26:48.226265+00","last_login":"2011-10-28 16:21:29+00","twitter":null,"facebook":null,"email":"testuser@youversion.com","notice_badges":"true","notice_contrib_fav":"true","notice_follower":"true","notice_newsletter":"false","notice_reading_plans":"true"},"buildtime":"2011-10-28T16:21:29+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -43,7 +43,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:17 GMT
+      - Fri, 28 Oct 2011 16:21:29 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -53,7 +53,7 @@
       vary:
       - Accept-Encoding
     body: ! '{"response":{"code":200,"data":{"id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"name":null,"first_name":null,"last_name":null,"location":null,"im_type":null,"im_value":null,"website":null,"mobile":null,"postal_code":null,"language":"false","country":"  ","timezone":"UTC","created":"2011-10-21
-      13:26:48.226265+00","last_login":"2011-10-25 21:20:16+00","twitter":null,"facebook":null,"email":"testuser@youversion.com","notice_badges":"true","notice_contrib_fav":"true","notice_follower":"true","notice_newsletter":"false","notice_reading_plans":"true"},"buildtime":"2011-10-25T21:20:16+00:00"}}'
+      13:26:48.226265+00","last_login":"2011-10-28 16:21:29+00","twitter":null,"facebook":null,"email":"testuser@youversion.com","notice_badges":"true","notice_contrib_fav":"true","notice_follower":"true","notice_newsletter":"false","notice_reading_plans":"true"},"buildtime":"2011-10-28T16:21:29+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -71,7 +71,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:17 GMT
+      - Fri, 28 Oct 2011 16:21:30 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -81,7 +81,7 @@
       vary:
       - Accept-Encoding
     body: ! '{"response":{"code":200,"data":{"id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"name":null,"first_name":null,"last_name":null,"location":null,"im_type":null,"im_value":null,"website":null,"language":"false","country":"  ","timezone":"UTC","created":"2011-10-21
-      13:26:48.226265+00","last_login":"2011-10-25 21:20:16+00"},"buildtime":"2011-10-25T21:20:17+00:00"}}'
+      13:26:48.226265+00","last_login":"2011-10-28 16:21:29+00"},"buildtime":"2011-10-28T16:21:30+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -99,18 +99,17 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:17 GMT
+      - Fri, 28 Oct 2011 16:21:30 GMT
       content-type:
-      - text/plain
       - text/plain; charset=utf-8
-      content-length:
-      - '735'
+      transfer-encoding:
+      - chunked
       connection:
       - keep-alive
       vary:
       - Accept-Encoding
     body: ! '{"response":{"code":200,"data":{"id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"name":null,"first_name":null,"last_name":null,"location":null,"im_type":null,"im_value":null,"website":null,"language":"false","country":"  ","timezone":"UTC","created":"2011-10-21
-      13:26:48.226265+00","last_login":"2011-10-25 21:20:16+00"},"buildtime":"2011-10-25T21:20:17+00:00"}}'
+      13:26:48.226265+00","last_login":"2011-10-28 16:21:29+00"},"buildtime":"2011-10-28T16:21:30+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -128,7 +127,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:18 GMT
+      - Fri, 28 Oct 2011 16:21:30 GMT
       content-type:
       - text/plain
       - text/plain; charset=utf-8
@@ -138,18 +137,18 @@
       - keep-alive
       vary:
       - Accept-Encoding
-    body: ! '{"response":{"code":201,"data":{"id":"935875","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Public
+    body: ! '{"response":{"code":201,"data":{"id":"935909","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Public
       Note","highlight_color":null,"content_yvml":"<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!DOCTYPE
       yv-note SYSTEM \"http:\/\/api.yvdev.com\/pub\/yvml_1_0.dtd\">\n<yv-note>Public
       Content<\/yv-note>","content_html":"Public Content","content_html_android":"Public
-      Content","content_html_ios":"Public Content","content_text":"Public Content","url":"\/notes\/935875\/public-note","short_url":"http:\/\/dev.read.ly\/n\/3vSl","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
-      1:1"}],"version":"kjv","created":"2011-10-25 21:20:17+00","published":null,"updated":"2011-10-25
-      21:20:17.929025+00","user_status":"public","system_status":"new"},"buildtime":"2011-10-25T21:20:17+00:00"}}'
+      Content","content_html_ios":"Public Content","content_text":"Public Content","url":"\/notes\/935909\/public-note","short_url":"http:\/\/dev.read.ly\/n\/3vTJ","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
+      1:1"}],"version":"kjv","created":"2011-10-28 16:21:30+00","published":null,"updated":"2011-10-28
+      16:21:30.754009+00","user_status":"public","system_status":"new"},"buildtime":"2011-10-28T16:21:30+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
     method: :get
-    uri: http://api.yvdev.com:80/2.3/users/view.json?auth_user_id=id&user_id=4163177
+    uri: http://api.yvdev.com:80/2.3/bible/verse.json?format=text&reference=gen.1.1&version=kjv
     body: !!null 
     headers:
       referer:
@@ -162,7 +161,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:18 GMT
+      - Fri, 28 Oct 2011 16:21:31 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -171,8 +170,37 @@
       - keep-alive
       vary:
       - Accept-Encoding
+    body: ! '{"response":{"code":200,"data":{"request":"Genesis 1:1","copyright":"","items":[{"code":200,"data":{"reference":{"osis":"Gen.1.1","human":"Genesis
+      1:1"},"content":"In the beginning God created the heaven and the earth."}}]},"buildtime":"2011-10-28T16:21:31+00:00"}}'
+    http_version: '1.1'
+- !ruby/struct:VCR::HTTPInteraction
+  request: !ruby/struct:VCR::Request
+    method: :get
+    uri: http://api.yvdev.com:80/2.3/users/view.json?auth_user_id=id&user_id=4163177
+    body: !!null 
+    headers:
+      referer:
+      - http://web.youversion.com
+  response: !ruby/struct:VCR::Response
+    status: !ruby/struct:VCR::ResponseStatus
+      code: 200
+      message: OK
+    headers:
+      server:
+      - nginx/0.7.67
+      date:
+      - Fri, 28 Oct 2011 16:21:31 GMT
+      content-type:
+      - text/plain
+      - text/plain; charset=utf-8
+      content-length:
+      - '735'
+      connection:
+      - keep-alive
+      vary:
+      - Accept-Encoding
     body: ! '{"response":{"code":200,"data":{"id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"name":null,"first_name":null,"last_name":null,"location":null,"im_type":null,"im_value":null,"website":null,"language":"false","country":"  ","timezone":"UTC","created":"2011-10-21
-      13:26:48.226265+00","last_login":"2011-10-25 21:20:17+00"},"buildtime":"2011-10-25T21:20:18+00:00"}}'
+      13:26:48.226265+00","last_login":"2011-10-28 16:21:29+00"},"buildtime":"2011-10-28T16:21:30+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -190,7 +218,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:18 GMT
+      - Fri, 28 Oct 2011 16:21:31 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -199,43 +227,19 @@
       - keep-alive
       vary:
       - Accept-Encoding
-    body: ! '{"response":{"code":200,"data":{"total":77,"notes":[{"id":"935839","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"The
-      Tester","highlight_color":null,"url":"\/notes\/935839\/the-tester","short_url":"http:\/\/dev.read.ly\/n\/3vSB","content_text":"More","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"1.
-      Mosebok 1:1"}],"version":"bm11-no","created":"2011-10-25 16:56:03+00","published":null,"updated":"2011-10-25
-      16:56:03.244874+00","user_status":"draft","system_status":"new"},{"id":"935838","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"The
-      Tester","highlight_color":null,"url":"\/notes\/935838\/the-tester","short_url":"http:\/\/dev.read.ly\/n\/3vSA","content_text":"More","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"1.
-      Mosebok 1:1"}],"version":"bm11-no","created":"2011-10-25 16:55:50+00","published":null,"updated":"2011-10-25
-      16:55:50.061688+00","user_status":"draft","system_status":"new"},{"id":"935773","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"The
-      Tester","highlight_color":null,"url":"\/notes\/935773\/the-tester","short_url":"http:\/\/dev.read.ly\/n\/3vR7","content_text":"More","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"1.
-      Mosebok 1:1"}],"version":"bm11-no","created":"2011-10-24 18:56:52+00","published":null,"updated":"2011-10-24
-      18:56:52.995575+00","user_status":"draft","system_status":"new"},{"id":"935769","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"awef","highlight_color":null,"url":"\/notes\/935769\/awef","short_url":"http:\/\/dev.read.ly\/n\/3vR3","content_text":"waefwae","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"S\u00e1ng-th\u1ebf
-      K\u00fd 1:1"}],"version":"vi1934","created":"2011-10-21 20:36:57+00","published":null,"updated":"2011-10-21
-      20:36:57.271571+00","user_status":"draft","system_status":"new"},{"id":"935768","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"awef","highlight_color":null,"url":"\/notes\/935768\/awef","short_url":"http:\/\/dev.read.ly\/n\/3vR2","content_text":"waefwae","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"S\u00e1ng-th\u1ebf
-      K\u00fd 1:1"}],"version":"vi1934","created":"2011-10-21 20:36:02+00","published":null,"updated":"2011-10-21
-      20:36:02.401272+00","user_status":"draft","system_status":"new"},{"id":"935767","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Note
+    body: ! '{"response":{"code":200,"data":{"total":61,"notes":[{"id":"935767","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Note
       Title","highlight_color":null,"url":"\/notes\/935767\/note-title","short_url":"http:\/\/dev.read.ly\/n\/3vR1","content_text":"Note
       Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
       1:1"}],"version":"kjv","created":"2011-10-21 20:34:22+00","published":null,"updated":"2011-10-21
-      20:34:22.986266+00","user_status":"draft","system_status":"new"},{"id":"935766","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"awef","highlight_color":null,"url":"\/notes\/935766\/awef","short_url":"http:\/\/dev.read.ly\/n\/3vR0","content_text":"waefwae","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"S\u00e1ng-th\u1ebf
-      K\u00fd 1:1"}],"version":"vi1934","created":"2011-10-21 20:32:54+00","published":null,"updated":"2011-10-21
-      20:32:54.170056+00","user_status":"draft","system_status":"new"},{"id":"935764","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Title","highlight_color":null,"url":"\/notes\/935764\/title","short_url":"http:\/\/dev.read.ly\/n\/3vQy","content_text":"The
-      Best","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1-2","human":"S\u00e1ng-th\u1ebf
-      K\u00fd 1:1-2"}],"version":"vi1934","created":"2011-10-21 20:13:55+00","published":null,"updated":"2011-10-21
-      20:13:55.593453+00","user_status":"draft","system_status":"new"},{"id":"935763","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"title","highlight_color":null,"url":"\/notes\/935763\/title","short_url":"http:\/\/dev.read.ly\/n\/3vQx","content_text":"Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"S\u00e1ng-th\u1ebf
-      K\u00fd 1:1"}],"version":"vi1934","created":"2011-10-21 19:24:15+00","published":null,"updated":"2011-10-21
-      19:24:15.922113+00","user_status":"draft","system_status":"new"},{"id":"935762","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"title","highlight_color":null,"url":"\/notes\/935762\/title","short_url":"http:\/\/dev.read.ly\/n\/3vQw","content_text":"Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"S\u00e1ng-th\u1ebf
-      K\u00fd 1:1"}],"version":"vi1934","created":"2011-10-21 19:23:32+00","published":null,"updated":"2011-10-21
-      19:23:32.711877+00","user_status":"draft","system_status":"new"},{"id":"935761","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"title","highlight_color":null,"url":"\/notes\/935761\/title","short_url":"http:\/\/dev.read.ly\/n\/3vQv","content_text":"Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"S\u00e1ng-th\u1ebf
-      K\u00fd 1:1"}],"version":"vi1934","created":"2011-10-21 19:22:26+00","published":null,"updated":"2011-10-21
-      19:22:26.70543+00","user_status":"draft","system_status":"new"},{"id":"935875","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Public
-      Note","highlight_color":null,"url":"\/notes\/935875\/public-note","short_url":"http:\/\/dev.read.ly\/n\/3vSl","content_text":"Public
+      20:34:22.986266+00","user_status":"draft","system_status":"new"},{"id":"935909","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Public
+      Note","highlight_color":null,"url":"\/notes\/935909\/public-note","short_url":"http:\/\/dev.read.ly\/n\/3vTJ","content_text":"Public
       Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
-      1:1"}],"version":"kjv","created":"2011-10-25 21:20:17+00","published":null,"updated":"2011-10-25
-      21:20:17.929025+00","user_status":"public","system_status":"new"},{"id":"935874","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Public
-      Note","highlight_color":null,"url":"\/notes\/935874\/public-note","short_url":"http:\/\/dev.read.ly\/n\/3vSk","content_text":"Public
+      1:1"}],"version":"kjv","created":"2011-10-28 16:21:30+00","published":null,"updated":"2011-10-28
+      16:21:30.754009+00","user_status":"public","system_status":"new"},{"id":"935888","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"A
+      Different Public Note","highlight_color":null,"url":"\/notes\/935888\/a-different-public-note","short_url":"http:\/\/dev.read.ly\/n\/3vSy","content_text":"Public
       Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
-      1:1"}],"version":"kjv","created":"2011-10-25 21:19:15+00","published":null,"updated":"2011-10-25
-      21:19:15.944349+00","user_status":"public","system_status":"new"},{"id":"935873","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Note
+      1:1"}],"version":"kjv","created":"2011-10-27 02:09:24+00","published":null,"updated":"2011-10-28
+      15:54:09+00","user_status":"public","system_status":"new"},{"id":"935873","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Note
       Title","highlight_color":null,"url":"\/notes\/935873\/note-title","short_url":"http:\/\/dev.read.ly\/n\/3vSj","content_text":"Note
       Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
       1:1"}],"version":"kjv","created":"2011-10-25 21:16:12+00","published":null,"updated":"2011-10-25
@@ -267,11 +271,7 @@
       Title","highlight_color":null,"url":"\/notes\/935866\/note-title","short_url":"http:\/\/dev.read.ly\/n\/3vSc","content_text":"Note
       Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
       1:1"}],"version":"kjv","created":"2011-10-25 19:22:09+00","published":null,"updated":"2011-10-25
-      19:22:09.644111+00","user_status":"public","system_status":"new"},{"id":"935865","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Note
-      Title","highlight_color":null,"url":"\/notes\/935865\/note-title","short_url":"http:\/\/dev.read.ly\/n\/3vSb","content_text":"Note
-      Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
-      1:1"}],"version":"kjv","created":"2011-10-25 19:21:14+00","published":null,"updated":"2011-10-25
-      19:21:14.8337+00","user_status":"public","system_status":"new"},{"id":"935864","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Note
+      19:22:09.644111+00","user_status":"public","system_status":"new"},{"id":"935864","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Note
       Title","highlight_color":null,"url":"\/notes\/935864\/note-title","short_url":"http:\/\/dev.read.ly\/n\/3vSa","content_text":"Note
       Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
       1:1"}],"version":"kjv","created":"2011-10-25 19:19:03+00","published":null,"updated":"2011-10-25
@@ -283,12 +283,56 @@
       Title","highlight_color":null,"url":"\/notes\/935862\/note-title","short_url":"http:\/\/dev.read.ly\/n\/3vSY","content_text":"Note
       Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
       1:1"}],"version":"kjv","created":"2011-10-25 19:16:52+00","published":null,"updated":"2011-10-25
-      19:16:52.972228+00","user_status":"public","system_status":"new"}]},"buildtime":"2011-10-25T21:20:18+00:00"}}'
+      19:16:52.972228+00","user_status":"public","system_status":"new"},{"id":"935861","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Note
+      Title","highlight_color":null,"url":"\/notes\/935861\/note-title","short_url":"http:\/\/dev.read.ly\/n\/3vSX","content_text":"Note
+      Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
+      1:1"}],"version":"kjv","created":"2011-10-25 19:07:56+00","published":null,"updated":"2011-10-25
+      19:07:56.542456+00","user_status":"public","system_status":"new"},{"id":"935860","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Note
+      Title","highlight_color":null,"url":"\/notes\/935860\/note-title","short_url":"http:\/\/dev.read.ly\/n\/3vSW","content_text":"Note
+      Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
+      1:1"}],"version":"kjv","created":"2011-10-25 19:06:37+00","published":null,"updated":"2011-10-25
+      19:06:37.373942+00","user_status":"public","system_status":"new"},{"id":"935859","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Note
+      Title","highlight_color":null,"url":"\/notes\/935859\/note-title","short_url":"http:\/\/dev.read.ly\/n\/3vSV","content_text":"Note
+      Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
+      1:1"}],"version":"kjv","created":"2011-10-25 19:02:31+00","published":null,"updated":"2011-10-25
+      19:02:31.152975+00","user_status":"public","system_status":"new"},{"id":"935858","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Note
+      Title","highlight_color":null,"url":"\/notes\/935858\/note-title","short_url":"http:\/\/dev.read.ly\/n\/3vSU","content_text":"Note
+      Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
+      1:1"}],"version":"kjv","created":"2011-10-25 18:59:24+00","published":null,"updated":"2011-10-25
+      18:59:24.814356+00","user_status":"public","system_status":"new"},{"id":"935857","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Note
+      Title","highlight_color":null,"url":"\/notes\/935857\/note-title","short_url":"http:\/\/dev.read.ly\/n\/3vST","content_text":"Note
+      Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
+      1:1"}],"version":"kjv","created":"2011-10-25 18:57:36+00","published":null,"updated":"2011-10-25
+      18:57:36.424767+00","user_status":"public","system_status":"new"},{"id":"935856","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Note
+      Title","highlight_color":null,"url":"\/notes\/935856\/note-title","short_url":"http:\/\/dev.read.ly\/n\/3vSS","content_text":"Note
+      Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
+      1:1"}],"version":"kjv","created":"2011-10-25 18:55:36+00","published":null,"updated":"2011-10-25
+      18:55:36.315513+00","user_status":"public","system_status":"new"},{"id":"935852","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Note
+      Title","highlight_color":null,"url":"\/notes\/935852\/note-title","short_url":"http:\/\/dev.read.ly\/n\/3vSO","content_text":"Note
+      Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
+      1:1"}],"version":"kjv","created":"2011-10-25 18:52:25+00","published":null,"updated":"2011-10-25
+      18:52:25.726255+00","user_status":"public","system_status":"new"},{"id":"935851","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Note
+      Title","highlight_color":null,"url":"\/notes\/935851\/note-title","short_url":"http:\/\/dev.read.ly\/n\/3vSN","content_text":"Note
+      Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
+      1:1"}],"version":"kjv","created":"2011-10-25 18:50:27+00","published":null,"updated":"2011-10-25
+      18:50:27.320311+00","user_status":"public","system_status":"new"},{"id":"935849","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Note
+      Title","highlight_color":null,"url":"\/notes\/935849\/note-title","short_url":"http:\/\/dev.read.ly\/n\/3vSL","content_text":"Note
+      Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
+      1:1"}],"version":"kjv","created":"2011-10-25 18:45:37+00","published":null,"updated":"2011-10-25
+      18:45:37.404102+00","user_status":"public","system_status":"new"},{"id":"935835","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Note
+      Title","highlight_color":null,"url":"\/notes\/935835\/note-title","short_url":"http:\/\/dev.read.ly\/n\/3vS7","content_text":"Note
+      Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
+      1:1"}],"version":"kjv","created":"2011-10-25 16:47:13+00","published":null,"updated":"2011-10-25
+      16:47:13.429672+00","user_status":"public","system_status":"new"},{"id":"935834","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Note
+      Title","highlight_color":null,"url":"\/notes\/935834\/note-title","short_url":"http:\/\/dev.read.ly\/n\/3vS6","content_text":"Note
+      Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
+      1:1"}],"version":"kjv","created":"2011-10-25 16:45:08+00","published":null,"updated":"2011-10-25
+      16:45:08.183235+00","user_status":"public","system_status":"new"}]},"buildtime":"2011-10-28T16:21:31+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
     method: :get
-    uri: http://testuser:tenders@api.yvdev.com:80/2.3/notes/view.json?id=935875
+    uri: http://testuser:tenders@api.yvdev.com:80/2.3/notes/view.json?id=935909
     body: !!null 
     headers:
       referer:
@@ -301,7 +345,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:19 GMT
+      - Fri, 28 Oct 2011 16:21:32 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -310,18 +354,18 @@
       - keep-alive
       vary:
       - Accept-Encoding
-    body: ! '{"response":{"code":200,"data":{"id":"935875","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Public
+    body: ! '{"response":{"code":200,"data":{"id":"935909","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Public
       Note","highlight_color":null,"content_yvml":"<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!DOCTYPE
       yv-note SYSTEM \"http:\/\/api.yvdev.com\/pub\/yvml_1_0.dtd\">\n<yv-note>Public
       Content<\/yv-note>","content_html":"Public Content","content_html_android":"Public
-      Content","content_html_ios":"Public Content","content_text":"Public Content","url":"\/notes\/935875\/public-note","short_url":"http:\/\/dev.read.ly\/n\/3vSl","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
-      1:1"}],"version":"kjv","created":"2011-10-25 21:20:17+00","published":null,"updated":"2011-10-25
-      21:20:17.929025+00","user_status":"public","system_status":"new"},"buildtime":"2011-10-25T21:20:19+00:00"}}'
+      Content","content_html_ios":"Public Content","content_text":"Public Content","url":"\/notes\/935909\/public-note","short_url":"http:\/\/dev.read.ly\/n\/3vTJ","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
+      1:1"}],"version":"kjv","created":"2011-10-28 16:21:30+00","published":null,"updated":"2011-10-28
+      16:21:30.754009+00","user_status":"public","system_status":"new"},"buildtime":"2011-10-28T16:21:32+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
     method: :get
-    uri: http://testuser:tenders@api.yvdev.com:80/2.3/notes/view.json?id=935875
+    uri: http://testuser:tenders@api.yvdev.com:80/2.3/notes/view.json?id=935909
     body: !!null 
     headers:
       referer:
@@ -334,7 +378,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:19 GMT
+      - Fri, 28 Oct 2011 16:21:32 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -343,18 +387,18 @@
       - keep-alive
       vary:
       - Accept-Encoding
-    body: ! '{"response":{"code":200,"data":{"id":"935875","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Public
+    body: ! '{"response":{"code":200,"data":{"id":"935909","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Public
       Note","highlight_color":null,"content_yvml":"<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!DOCTYPE
       yv-note SYSTEM \"http:\/\/api.yvdev.com\/pub\/yvml_1_0.dtd\">\n<yv-note>Public
       Content<\/yv-note>","content_html":"Public Content","content_html_android":"Public
-      Content","content_html_ios":"Public Content","content_text":"Public Content","url":"\/notes\/935875\/public-note","short_url":"http:\/\/dev.read.ly\/n\/3vSl","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
-      1:1"}],"version":"kjv","created":"2011-10-25 21:20:17+00","published":null,"updated":"2011-10-25
-      21:20:17.929025+00","user_status":"public","system_status":"new"},"buildtime":"2011-10-25T21:20:19+00:00"}}'
+      Content","content_html_ios":"Public Content","content_text":"Public Content","url":"\/notes\/935909\/public-note","short_url":"http:\/\/dev.read.ly\/n\/3vTJ","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
+      1:1"}],"version":"kjv","created":"2011-10-28 16:21:30+00","published":null,"updated":"2011-10-28
+      16:21:30.754009+00","user_status":"public","system_status":"new"},"buildtime":"2011-10-28T16:21:32+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
     method: :get
-    uri: http://testuser:tenders@api.yvdev.com:80/2.3/notes/view.json?id=935875
+    uri: http://testuser:tenders@api.yvdev.com:80/2.3/notes/view.json?id=935909
     body: !!null 
     headers:
       referer:
@@ -367,7 +411,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:19 GMT
+      - Fri, 28 Oct 2011 16:21:32 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -376,19 +420,19 @@
       - keep-alive
       vary:
       - Accept-Encoding
-    body: ! '{"response":{"code":200,"data":{"id":"935875","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Public
+    body: ! '{"response":{"code":200,"data":{"id":"935909","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"Public
       Note","highlight_color":null,"content_yvml":"<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!DOCTYPE
       yv-note SYSTEM \"http:\/\/api.yvdev.com\/pub\/yvml_1_0.dtd\">\n<yv-note>Public
       Content<\/yv-note>","content_html":"Public Content","content_html_android":"Public
-      Content","content_html_ios":"Public Content","content_text":"Public Content","url":"\/notes\/935875\/public-note","short_url":"http:\/\/dev.read.ly\/n\/3vSl","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
-      1:1"}],"version":"kjv","created":"2011-10-25 21:20:17+00","published":null,"updated":"2011-10-25
-      21:20:17.929025+00","user_status":"public","system_status":"new"},"buildtime":"2011-10-25T21:20:19+00:00"}}'
+      Content","content_html_ios":"Public Content","content_text":"Public Content","url":"\/notes\/935909\/public-note","short_url":"http:\/\/dev.read.ly\/n\/3vTJ","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
+      1:1"}],"version":"kjv","created":"2011-10-28 16:21:30+00","published":null,"updated":"2011-10-28
+      16:21:30.754009+00","user_status":"public","system_status":"new"},"buildtime":"2011-10-28T16:21:32+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
     method: :post
     uri: http://testuser:tenders@api.yvdev.com:80/2.3/notes/update.json
-    body: id=935875&title=A%20Different%20Public%20Note&content=%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3C!DOCTYPE%20yv-note%20SYSTEM%20%22http%3A%2F%2Fapi.yvdev.com%2Fpub%2Fyvml_1_0.dtd%22%3E%3Cyv-note%3EPublic%20Content%3C%2Fyv-note%3E&language_iso=&reference=Gen.1.1&version=kjv&published=&user_status=public&shared_connections=&token=615ad51b71049e299842f5af14c70cad
+    body: id=935909&title=A%20Different%20Public%20Note&content=%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3C!DOCTYPE%20yv-note%20SYSTEM%20%22http%3A%2F%2Fapi.yvdev.com%2Fpub%2Fyvml_1_0.dtd%22%3E%3Cyv-note%3EPublic%20Content%3C%2Fyv-note%3E&language_iso=&reference=gen.1.1.kjv&version=vi1934&published=&user_status=public&shared_connections=&token=615ad51b71049e299842f5af14c70cad
     headers:
       referer:
       - http://web.youversion.com
@@ -400,7 +444,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:20 GMT
+      - Fri, 28 Oct 2011 16:21:32 GMT
       content-type:
       - text/plain
       - text/plain; charset=utf-8
@@ -410,19 +454,14 @@
       - keep-alive
       vary:
       - Accept-Encoding
-    body: ! '{"response":{"code":200,"data":{"id":"935875","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"A
-      Different Public Note","highlight_color":null,"content_yvml":"<?xml version=\"1.0\"
-      encoding=\"utf-8\"?>\n<!DOCTYPE yv-note SYSTEM \"http:\/\/api.yvdev.com\/pub\/yvml_1_0.dtd\">\n<yv-note>Public
-      Content<\/yv-note>","content_html":"Public Content","content_html_android":"Public
-      Content","content_html_ios":"Public Content","content_text":"Public Content","url":"\/notes\/935875\/a-different-public-note","short_url":"http:\/\/dev.read.ly\/n\/3vSl","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
-      1:1"}],"version":"kjv","created":"2011-10-25 21:20:17+00","published":null,"updated":"2011-10-25
-      21:20:19+00","user_status":"public","system_status":"new"},"buildtime":"2011-10-25T21:20:20+00:00"}}'
+    body: ! '{"response":{"code":400,"data":{"errors":[{"key":"notes.reference.invalid_multi_reference","error":"Invalid
+      multi-reference"}]},"buildtime":"2011-10-28T16:21:32+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
     method: :post
     uri: http://testuser:tenders@api.yvdev.com:80/2.3/notes/delete.json
-    body: id=935875
+    body: id=935909
     headers:
       referer:
       - http://web.youversion.com
@@ -434,7 +473,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:20 GMT
+      - Fri, 28 Oct 2011 16:21:33 GMT
       content-type:
       - text/plain
       - text/plain; charset=utf-8
@@ -444,7 +483,7 @@
       - keep-alive
       vary:
       - Accept-Encoding
-    body: ! '{"response":{"code":200,"data":"OK","buildtime":"2011-10-25T21:20:20+00:00"}}'
+    body: ! '{"response":{"code":200,"data":"OK","buildtime":"2011-10-28T16:21:33+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -462,7 +501,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:21 GMT
+      - Fri, 28 Oct 2011 16:21:34 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -472,7 +511,7 @@
       vary:
       - Accept-Encoding
     body: ! '{"response":{"code":200,"data":{"id":"4163176","username":"testuser2","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_512x512.png"},"name":null,"first_name":null,"last_name":null,"location":null,"im_type":null,"im_value":null,"website":null,"mobile":null,"postal_code":null,"language":"false","country":"  ","timezone":"UTC","created":"2011-10-21
-      13:23:17.36098+00","last_login":"2011-10-25 21:20:21+00","twitter":null,"facebook":null,"email":"testuser2@youversion.com","notice_badges":"true","notice_contrib_fav":"true","notice_follower":"true","notice_newsletter":"false","notice_reading_plans":"true"},"buildtime":"2011-10-25T21:20:21+00:00"}}'
+      13:23:17.36098+00","last_login":"2011-10-28 16:21:34+00","twitter":null,"facebook":null,"email":"testuser2@youversion.com","notice_badges":"true","notice_contrib_fav":"true","notice_follower":"true","notice_newsletter":"false","notice_reading_plans":"true"},"buildtime":"2011-10-28T16:21:34+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -490,7 +529,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:21 GMT
+      - Fri, 28 Oct 2011 16:21:34 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -500,7 +539,7 @@
       vary:
       - Accept-Encoding
     body: ! '{"response":{"code":200,"data":{"id":"4163176","username":"testuser2","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_512x512.png"},"name":null,"first_name":null,"last_name":null,"location":null,"im_type":null,"im_value":null,"website":null,"mobile":null,"postal_code":null,"language":"false","country":"  ","timezone":"UTC","created":"2011-10-21
-      13:23:17.36098+00","last_login":"2011-10-25 21:20:21+00","twitter":null,"facebook":null,"email":"testuser2@youversion.com","notice_badges":"true","notice_contrib_fav":"true","notice_follower":"true","notice_newsletter":"false","notice_reading_plans":"true"},"buildtime":"2011-10-25T21:20:21+00:00"}}'
+      13:23:17.36098+00","last_login":"2011-10-28 16:21:34+00","twitter":null,"facebook":null,"email":"testuser2@youversion.com","notice_badges":"true","notice_contrib_fav":"true","notice_follower":"true","notice_newsletter":"false","notice_reading_plans":"true"},"buildtime":"2011-10-28T16:21:34+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -518,7 +557,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:21 GMT
+      - Fri, 28 Oct 2011 16:21:34 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -528,7 +567,7 @@
       vary:
       - Accept-Encoding
     body: ! '{"response":{"code":200,"data":{"id":"4163176","username":"testuser2","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_512x512.png"},"name":null,"first_name":null,"last_name":null,"location":null,"im_type":null,"im_value":null,"website":null,"language":"false","country":"  ","timezone":"UTC","created":"2011-10-21
-      13:23:17.36098+00","last_login":"2011-10-25 21:20:21+00"},"buildtime":"2011-10-25T21:20:21+00:00"}}'
+      13:23:17.36098+00","last_login":"2011-10-28 16:21:34+00"},"buildtime":"2011-10-28T16:21:34+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -546,7 +585,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:22 GMT
+      - Fri, 28 Oct 2011 16:21:35 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -557,9 +596,9 @@
       - Accept-Encoding
     body: ! '{"response":{"code":200,"data":{"total":3,"notes":[{"id":"935854","user_id":"4163176","username":"testuser2","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_512x512.png"},"title":"Another
       Private","highlight_color":null,"url":"\/notes\/935854\/another-private","short_url":"http:\/\/dev.read.ly\/n\/3vSQ","content_text":"Another
-      Private Record","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.4","human":"Genesis
-      1:4"}],"version":"kjv","created":"2011-10-25 18:54:07+00","published":null,"updated":"2011-10-25
-      19:07:28+00","user_status":"private","system_status":"new"},{"id":"935853","user_id":"4163176","username":"testuser2","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_512x512.png"},"title":"Another
+      Private Recordfgewf","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.4","human":"Genesis
+      1:4"}],"version":"kjv","created":"2011-10-25 18:54:07+00","published":null,"updated":"2011-10-26
+      20:40:58+00","user_status":"private","system_status":"new"},{"id":"935853","user_id":"4163176","username":"testuser2","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_512x512.png"},"title":"Another
       Public","highlight_color":null,"url":"\/notes\/935853\/another-public","short_url":"http:\/\/dev.read.ly\/n\/3vSP","content_text":"Another
       Public Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.3","human":"Genesis
       1:3"}],"version":"kjv","created":"2011-10-25 18:53:25+00","published":null,"updated":"2011-10-25
@@ -567,7 +606,64 @@
       Note","highlight_color":null,"url":"\/notes\/935850\/public-note","short_url":"http:\/\/dev.read.ly\/n\/3vSM","content_text":"Public
       Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
       1:1"}],"version":"kjv","created":"2011-10-25 18:49:10+00","published":null,"updated":"2011-10-25
-      18:49:10.462235+00","user_status":"public","system_status":"new"}]},"buildtime":"2011-10-25T21:20:22+00:00"}}'
+      18:49:10.462235+00","user_status":"public","system_status":"new"}]},"buildtime":"2011-10-28T16:21:35+00:00"}}'
+    http_version: '1.1'
+- !ruby/struct:VCR::HTTPInteraction
+  request: !ruby/struct:VCR::Request
+    method: :get
+    uri: http://api.yvdev.com:80/2.3/bible/verse.json?format=text&reference=gen.1.4&version=kjv
+    body: !!null 
+    headers:
+      referer:
+      - http://web.youversion.com
+  response: !ruby/struct:VCR::Response
+    status: !ruby/struct:VCR::ResponseStatus
+      code: 200
+      message: OK
+    headers:
+      server:
+      - nginx/0.7.67
+      date:
+      - Fri, 28 Oct 2011 16:21:35 GMT
+      content-type:
+      - text/plain; charset=utf-8
+      transfer-encoding:
+      - chunked
+      connection:
+      - keep-alive
+      vary:
+      - Accept-Encoding
+    body: ! '{"response":{"code":200,"data":{"request":"Genesis 1:4","copyright":"","items":[{"code":200,"data":{"reference":{"osis":"Gen.1.4","human":"Genesis
+      1:4"},"content":"And God saw the light, that it was good: and God divided the
+      light from the darkness."}}]},"buildtime":"2011-10-28T16:21:35+00:00"}}'
+    http_version: '1.1'
+- !ruby/struct:VCR::HTTPInteraction
+  request: !ruby/struct:VCR::Request
+    method: :get
+    uri: http://api.yvdev.com:80/2.3/bible/verse.json?format=text&reference=gen.1.3&version=kjv
+    body: !!null 
+    headers:
+      referer:
+      - http://web.youversion.com
+  response: !ruby/struct:VCR::Response
+    status: !ruby/struct:VCR::ResponseStatus
+      code: 200
+      message: OK
+    headers:
+      server:
+      - nginx/0.7.67
+      date:
+      - Fri, 28 Oct 2011 16:21:35 GMT
+      content-type:
+      - text/plain; charset=utf-8
+      transfer-encoding:
+      - chunked
+      connection:
+      - keep-alive
+      vary:
+      - Accept-Encoding
+    body: ! '{"response":{"code":200,"data":{"request":"Genesis 1:3","copyright":"","items":[{"code":200,"data":{"reference":{"osis":"Gen.1.3","human":"Genesis
+      1:3"},"content":" \nAnd God said, Let there be light: and there was light."}}]},"buildtime":"2011-10-28T16:21:35+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -585,7 +681,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:22 GMT
+      - Fri, 28 Oct 2011 16:21:35 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -595,7 +691,7 @@
       vary:
       - Accept-Encoding
     body: ! '{"response":{"code":200,"data":{"id":"4163176","username":"testuser2","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_512x512.png"},"name":null,"first_name":null,"last_name":null,"location":null,"im_type":null,"im_value":null,"website":null,"language":"false","country":"  ","timezone":"UTC","created":"2011-10-21
-      13:23:17.36098+00","last_login":"2011-10-25 21:20:21+00"},"buildtime":"2011-10-25T21:20:22+00:00"}}'
+      13:23:17.36098+00","last_login":"2011-10-28 16:21:34+00"},"buildtime":"2011-10-28T16:21:35+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -613,7 +709,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:22 GMT
+      - Fri, 28 Oct 2011 16:21:36 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -624,9 +720,9 @@
       - Accept-Encoding
     body: ! '{"response":{"code":200,"data":{"total":3,"notes":[{"id":"935854","user_id":"4163176","username":"testuser2","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_512x512.png"},"title":"Another
       Private","highlight_color":null,"url":"\/notes\/935854\/another-private","short_url":"http:\/\/dev.read.ly\/n\/3vSQ","content_text":"Another
-      Private Record","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.4","human":"Genesis
-      1:4"}],"version":"kjv","created":"2011-10-25 18:54:07+00","published":null,"updated":"2011-10-25
-      19:07:28+00","user_status":"private","system_status":"new"},{"id":"935853","user_id":"4163176","username":"testuser2","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_512x512.png"},"title":"Another
+      Private Recordfgewf","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.4","human":"Genesis
+      1:4"}],"version":"kjv","created":"2011-10-25 18:54:07+00","published":null,"updated":"2011-10-26
+      20:40:58+00","user_status":"private","system_status":"new"},{"id":"935853","user_id":"4163176","username":"testuser2","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_512x512.png"},"title":"Another
       Public","highlight_color":null,"url":"\/notes\/935853\/another-public","short_url":"http:\/\/dev.read.ly\/n\/3vSP","content_text":"Another
       Public Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.3","human":"Genesis
       1:3"}],"version":"kjv","created":"2011-10-25 18:53:25+00","published":null,"updated":"2011-10-25
@@ -634,7 +730,64 @@
       Note","highlight_color":null,"url":"\/notes\/935850\/public-note","short_url":"http:\/\/dev.read.ly\/n\/3vSM","content_text":"Public
       Content","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
       1:1"}],"version":"kjv","created":"2011-10-25 18:49:10+00","published":null,"updated":"2011-10-25
-      18:49:10.462235+00","user_status":"public","system_status":"new"}]},"buildtime":"2011-10-25T21:20:22+00:00"}}'
+      18:49:10.462235+00","user_status":"public","system_status":"new"}]},"buildtime":"2011-10-28T16:21:35+00:00"}}'
+    http_version: '1.1'
+- !ruby/struct:VCR::HTTPInteraction
+  request: !ruby/struct:VCR::Request
+    method: :get
+    uri: http://api.yvdev.com:80/2.3/bible/verse.json?format=text&reference=gen.1.4&version=kjv
+    body: !!null 
+    headers:
+      referer:
+      - http://web.youversion.com
+  response: !ruby/struct:VCR::Response
+    status: !ruby/struct:VCR::ResponseStatus
+      code: 200
+      message: OK
+    headers:
+      server:
+      - nginx/0.7.67
+      date:
+      - Fri, 28 Oct 2011 16:21:36 GMT
+      content-type:
+      - text/plain; charset=utf-8
+      transfer-encoding:
+      - chunked
+      connection:
+      - keep-alive
+      vary:
+      - Accept-Encoding
+    body: ! '{"response":{"code":200,"data":{"request":"Genesis 1:4","copyright":"","items":[{"code":200,"data":{"reference":{"osis":"Gen.1.4","human":"Genesis
+      1:4"},"content":"And God saw the light, that it was good: and God divided the
+      light from the darkness."}}]},"buildtime":"2011-10-28T16:21:36+00:00"}}'
+    http_version: '1.1'
+- !ruby/struct:VCR::HTTPInteraction
+  request: !ruby/struct:VCR::Request
+    method: :get
+    uri: http://api.yvdev.com:80/2.3/bible/verse.json?format=text&reference=gen.1.3&version=kjv
+    body: !!null 
+    headers:
+      referer:
+      - http://web.youversion.com
+  response: !ruby/struct:VCR::Response
+    status: !ruby/struct:VCR::ResponseStatus
+      code: 200
+      message: OK
+    headers:
+      server:
+      - nginx/0.7.67
+      date:
+      - Fri, 28 Oct 2011 16:21:36 GMT
+      content-type:
+      - text/plain; charset=utf-8
+      transfer-encoding:
+      - chunked
+      connection:
+      - keep-alive
+      vary:
+      - Accept-Encoding
+    body: ! '{"response":{"code":200,"data":{"request":"Genesis 1:3","copyright":"","items":[{"code":200,"data":{"reference":{"osis":"Gen.1.3","human":"Genesis
+      1:3"},"content":" \nAnd God said, Let there be light: and there was light."}}]},"buildtime":"2011-10-28T16:21:36+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -652,18 +805,17 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:22 GMT
+      - Fri, 28 Oct 2011 16:21:36 GMT
       content-type:
-      - text/plain
       - text/plain; charset=utf-8
-      content-length:
-      - '735'
+      transfer-encoding:
+      - chunked
       connection:
       - keep-alive
       vary:
       - Accept-Encoding
     body: ! '{"response":{"code":200,"data":{"id":"4163176","username":"testuser2","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/58dd024d49e1d1b83a5d307f09f32734_512x512.png"},"name":null,"first_name":null,"last_name":null,"location":null,"im_type":null,"im_value":null,"website":null,"language":"false","country":"  ","timezone":"UTC","created":"2011-10-21
-      13:23:17.36098+00","last_login":"2011-10-25 21:20:21+00"},"buildtime":"2011-10-25T21:20:22+00:00"}}'
+      13:23:17.36098+00","last_login":"2011-10-28 16:21:36+00"},"buildtime":"2011-10-28T16:21:36+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -681,7 +833,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:23 GMT
+      - Fri, 28 Oct 2011 16:21:37 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -708,7 +860,7 @@
       Peter","chapters":3,"verses":[21,22,18],"audio":true},{"number":62,"osis":"1John","human":"1
       John","chapters":5,"verses":[10,29,24,21,21],"audio":true},{"number":63,"osis":"2John","human":"2
       John","chapters":1,"verses":[13],"audio":true},{"number":64,"osis":"3John","human":"3
-      John","chapters":1,"verses":[14],"audio":true},{"number":65,"osis":"Jude","human":"Jude","chapters":1,"verses":[25],"audio":true},{"number":66,"osis":"Rev","human":"Revelation","chapters":22,"verses":[20,29,22,11,14,17,17,13,21,11,19,17,18,20,8,21,18,24,21,15,27,21],"audio":true}],"buildtime":"2011-10-25T21:20:23+00:00"}}'
+      John","chapters":1,"verses":[14],"audio":true},{"number":65,"osis":"Jude","human":"Jude","chapters":1,"verses":[25],"audio":true},{"number":66,"osis":"Rev","human":"Revelation","chapters":22,"verses":[20,29,22,11,14,17,17,13,21,11,19,17,18,20,8,21,18,24,21,15,27,21],"audio":true}],"buildtime":"2011-10-28T16:21:37+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -726,7 +878,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:24 GMT
+      - Fri, 28 Oct 2011 16:21:37 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -816,7 +968,7 @@
       saw all that he had made, and it was very good. And there was evening, and there
       was morning\u2014the sixth day.<\/span><\/p><\/div>\n","audio":[{"id":"3","title":"NIV
       Listener''s Bible","download_urls":{"format_mp3_32k":"http:\/\/cdn-http.audio-bible.api.youversion.com\/niv84\/2\/32k\/gen\/001-8af7d4f598f6d657a4309b2e05f71ea5.mp3"}}]},"previous":"","next":{"reference":{"osis":"Gen.2","human":"Genesis
-      2"}}},"buildtime":"2011-10-25T21:20:24+00:00"}],"buildtime":"2011-10-25T21:20:24+00:00"}}'
+      2"}}},"buildtime":"2011-10-28T16:21:37+00:00"}],"buildtime":"2011-10-28T16:21:37+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -834,7 +986,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:25 GMT
+      - Fri, 28 Oct 2011 16:21:39 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -866,7 +1018,7 @@
       Peter","chapters":3,"verses":[21,22,18],"audio":true},{"number":71,"osis":"1John","human":"1
       John","chapters":5,"verses":[10,29,24,21,21],"audio":true},{"number":72,"osis":"2John","human":"2
       John","chapters":1,"verses":[13],"audio":true},{"number":73,"osis":"3John","human":"3
-      John","chapters":1,"verses":[14],"audio":true},{"number":74,"osis":"Jude","human":"Jude","chapters":1,"verses":[25],"audio":true},{"number":75,"osis":"Rev","human":"Revelation","chapters":22,"verses":[20,29,22,11,14,17,17,13,21,11,19,18,18,20,8,21,18,24,21,15,27,21],"audio":true}],"buildtime":"2011-10-25T21:20:25+00:00"}}'
+      John","chapters":1,"verses":[14],"audio":true},{"number":74,"osis":"Jude","human":"Jude","chapters":1,"verses":[25],"audio":true},{"number":75,"osis":"Rev","human":"Revelation","chapters":22,"verses":[20,29,22,11,14,17,17,13,21,11,19,18,18,20,8,21,18,24,21,15,27,21],"audio":true}],"buildtime":"2011-10-28T16:21:39+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -884,7 +1036,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:25 GMT
+      - Fri, 28 Oct 2011 16:21:39 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -971,7 +1123,7 @@
       to feed upon. And it was so done.<\/span><span class=\"verse Gen_1_31\"><strong>31<\/strong>\u00a0And
       God saw all the things that he had made, and they were very\n                good.
       And the evening and morning were the sixth day.<\/span><\/p><\/div>\n","audio":null},"previous":"","next":{"reference":{"osis":"Gen.2","human":"Genesis
-      2"}}},"buildtime":"2011-10-25T21:20:25+00:00"}],"buildtime":"2011-10-25T21:20:25+00:00"}}'
+      2"}}},"buildtime":"2011-10-28T16:21:39+00:00"}],"buildtime":"2011-10-28T16:21:39+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -989,7 +1141,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:26 GMT
+      - Fri, 28 Oct 2011 16:21:40 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -1047,7 +1199,7 @@
       Pharaoh gave this order to all his people: \"Every Hebrew boy that is born you
       must throw into the Nile, but let every girl live.\"<\/span><\/p><\/div>\n","audio":[{"id":"3","title":"NIV
       Listener''s Bible","download_urls":{"format_mp3_32k":"http:\/\/cdn-http.audio-bible.api.youversion.com\/niv84\/2\/32k\/exod\/001-7af98ff32cbbce1761a74a3692d8ee0a.mp3"}}]},"previous":{"reference":{"osis":"Gen.50","human":"Genesis
-      50"}},"next":{"reference":{"osis":"Exod.2","human":"Exodus 2"}}},"buildtime":"2011-10-25T21:20:26+00:00"}],"buildtime":"2011-10-25T21:20:26+00:00"}}'
+      50"}},"next":{"reference":{"osis":"Exod.2","human":"Exodus 2"}}},"buildtime":"2011-10-28T16:21:40+00:00"}],"buildtime":"2011-10-28T16:21:40+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -1065,7 +1217,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:29 GMT
+      - Fri, 28 Oct 2011 16:21:43 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -1138,39 +1290,5 @@
       And there it was.<\/span><\/p><p><span class=\"verse Gen_1_31\"><strong>31<\/strong>\u00a0God
       looked over everything he had made; it was so good, so very good! It was evening,
       it was morning-Day Six.<\/span><\/p><\/div>\n","audio":null},"previous":"","next":{"reference":{"osis":"Gen.2","human":"Genesis
-      2"}}},"buildtime":"2011-10-25T21:20:29+00:00"}],"buildtime":"2011-10-25T21:20:29+00:00"}}'
-    http_version: '1.1'
-- !ruby/struct:VCR::HTTPInteraction
-  request: !ruby/struct:VCR::Request
-    method: :post
-    uri: http://testuser:tenders@api.yvdev.com:80/2.3/notes/create.json
-    body: title=A%20Different%20Public%20Note&content=%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3C!DOCTYPE%20yv-note%20SYSTEM%20%22http%3A%2F%2Fapi.yvdev.com%2Fpub%2Fyvml_1_0.dtd%22%3E%3Cyv-note%3EPublic%20Content%3C%2Fyv-note%3E&language_iso=&reference=Gen.1.1&version=kjv&published=&user_status=public&shared_connections=&token=615ad51b71049e299842f5af14c70cad
-    headers:
-      referer:
-      - http://web.youversion.com
-  response: !ruby/struct:VCR::Response
-    status: !ruby/struct:VCR::ResponseStatus
-      code: 200
-      message: OK
-    headers:
-      server:
-      - nginx/0.7.67
-      date:
-      - Thu, 27 Oct 2011 02:09:24 GMT
-      content-type:
-      - text/plain
-      - text/plain; charset=utf-8
-      transfer-encoding:
-      - chunked
-      connection:
-      - keep-alive
-      vary:
-      - Accept-Encoding
-    body: ! '{"response":{"code":201,"data":{"id":"935888","user_id":"4163177","username":"testuser","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/5d9c68c6c50ed3d02a2fcf54f63993b6_512x512.png"},"title":"A
-      Different Public Note","highlight_color":null,"content_yvml":"<?xml version=\"1.0\"
-      encoding=\"utf-8\"?>\n<!DOCTYPE yv-note SYSTEM \"http:\/\/api.yvdev.com\/pub\/yvml_1_0.dtd\">\n<yv-note>Public
-      Content<\/yv-note>","content_html":"Public Content","content_html_android":"Public
-      Content","content_html_ios":"Public Content","content_text":"Public Content","url":"\/notes\/935888\/a-different-public-note","short_url":"http:\/\/dev.read.ly\/n\/3vSy","rich_content":false,"language_iso":null,"rank":"0","reference":[{"osis":"Gen.1.1","human":"Genesis
-      1:1"}],"version":"kjv","created":"2011-10-27 02:09:24+00","published":null,"updated":"2011-10-27
-      02:09:24.350295+00","user_status":"public","system_status":"new"},"buildtime":"2011-10-27T02:09:24+00:00"}}'
+      2"}}},"buildtime":"2011-10-28T16:21:43+00:00"}],"buildtime":"2011-10-28T16:21:43+00:00"}}'
     http_version: '1.1'
diff --git a/fixtures/vcr/cuke/cucumber_tags/no_user.yml b/fixtures/vcr/cuke/cucumber_tags/no_user.yml
index bbe16f1..5dcf561 100644
--- a/fixtures/vcr/cuke/cucumber_tags/no_user.yml
+++ b/fixtures/vcr/cuke/cucumber_tags/no_user.yml
@@ -15,7 +15,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:27 GMT
+      - Fri, 28 Oct 2011 16:21:41 GMT
       content-type:
       - text/plain
       - text/plain; charset=utf-8
@@ -27,7 +27,7 @@
       - Accept-Encoding
     body: ! '{"response":{"code":400,"data":{"errors":[{"key":"users.email.not_available","error":"An
       account is already registered with that email"},{"key":"users.username.not_available","error":"An
-      account is already registered with that username"}]},"buildtime":"2011-10-25T21:20:27+00:00"}}'
+      account is already registered with that username"}]},"buildtime":"2011-10-28T16:21:41+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -45,7 +45,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:27 GMT
+      - Fri, 28 Oct 2011 16:21:41 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -55,5 +55,5 @@
       vary:
       - Accept-Encoding
     body: ! '{"response":{"code":403,"data":{"errors":[{"key":"users.hash.not_verified","error":"This
-      account has not been verified."}]},"buildtime":"2011-10-25T21:20:27+00:00"}}'
+      account has not been verified."}]},"buildtime":"2011-10-28T16:21:41+00:00"}}'
     http_version: '1.1'
diff --git a/fixtures/vcr/cuke/cucumber_tags/user.yml b/fixtures/vcr/cuke/cucumber_tags/user.yml
index 9bfb94b..6c03057 100644
--- a/fixtures/vcr/cuke/cucumber_tags/user.yml
+++ b/fixtures/vcr/cuke/cucumber_tags/user.yml
@@ -15,7 +15,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:28 GMT
+      - Fri, 28 Oct 2011 16:21:41 GMT
       content-type:
       - text/plain
       - text/plain; charset=utf-8
@@ -27,7 +27,7 @@
       - Accept-Encoding
     body: ! '{"response":{"code":400,"data":{"errors":[{"key":"users.email.not_available","error":"An
       account is already registered with that email"},{"key":"users.username.not_available","error":"An
-      account is already registered with that username"}]},"buildtime":"2011-10-25T21:20:28+00:00"}}'
+      account is already registered with that username"}]},"buildtime":"2011-10-28T16:21:41+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -45,7 +45,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:28 GMT
+      - Fri, 28 Oct 2011 16:21:42 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -55,7 +55,7 @@
       vary:
       - Accept-Encoding
     body: ! '{"response":{"code":200,"data":{"id":"4163169","username":"cukeuser3","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/0febb3a634fae08529c07d3c0d143871_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/0febb3a634fae08529c07d3c0d143871_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/0febb3a634fae08529c07d3c0d143871_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/0febb3a634fae08529c07d3c0d143871_512x512.png"},"name":null,"first_name":null,"last_name":null,"location":null,"im_type":null,"im_value":null,"website":null,"mobile":null,"postal_code":null,"language":"false","country":"  ","timezone":"UTC","created":"2011-10-19
-      18:10:14.430167+00","last_login":"2011-10-25 21:20:28+00","twitter":null,"facebook":null,"email":"cukeuser3@youversion.com","notice_badges":"true","notice_contrib_fav":"true","notice_follower":"true","notice_newsletter":"true","notice_reading_plans":"true"},"buildtime":"2011-10-25T21:20:28+00:00"}}'
+      18:10:14.430167+00","last_login":"2011-10-28 16:21:42+00","twitter":null,"facebook":null,"email":"cukeuser3@youversion.com","notice_badges":"true","notice_contrib_fav":"true","notice_follower":"true","notice_newsletter":"true","notice_reading_plans":"true"},"buildtime":"2011-10-28T16:21:42+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -73,7 +73,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:28 GMT
+      - Fri, 28 Oct 2011 16:21:42 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -83,5 +83,5 @@
       vary:
       - Accept-Encoding
     body: ! '{"response":{"code":200,"data":{"id":"4163169","username":"cukeuser3","user_avatar_url":{"px_24x24":"http:\/\/avatars.youversion.com\/0febb3a634fae08529c07d3c0d143871_24x24.png","px_48x48":"http:\/\/avatars.youversion.com\/0febb3a634fae08529c07d3c0d143871_48x48.png","px_128x128":"http:\/\/avatars.youversion.com\/0febb3a634fae08529c07d3c0d143871_128x128.png","px_512x512":"http:\/\/avatars.youversion.com\/0febb3a634fae08529c07d3c0d143871_512x512.png"},"name":null,"first_name":null,"last_name":null,"location":null,"im_type":null,"im_value":null,"website":null,"language":"false","country":"  ","timezone":"UTC","created":"2011-10-19
-      18:10:14.430167+00","last_login":"2011-10-25 21:20:28+00"},"buildtime":"2011-10-25T21:20:28+00:00"}}'
+      18:10:14.430167+00","last_login":"2011-10-28 16:21:42+00"},"buildtime":"2011-10-28T16:21:42+00:00"}}'
     http_version: '1.1'
diff --git a/fixtures/vcr/cuke/cucumber_tags/versions.yml b/fixtures/vcr/cuke/cucumber_tags/versions.yml
index f62d79c..e99c5f0 100644
--- a/fixtures/vcr/cuke/cucumber_tags/versions.yml
+++ b/fixtures/vcr/cuke/cucumber_tags/versions.yml
@@ -15,7 +15,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:14 GMT
+      - Fri, 28 Oct 2011 16:21:27 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -340,7 +340,7 @@
       de Cubulco","url":"","language":{"iso":"acc","human":"Achi de Cubulco"},"booklist":"acc","copyright":"SIL","offline_android":"false","offline_blackberry":"false","offline_ios":"false","offline":"false","filesize":"","min_offline_build":"1","max_offline_build":"1","verse_ranges":"false","facebook":"true","audio":"false","text_direction":"ltr"},"accnt":{"title":"Achi''
       de Cubulco","url":"http:\/\/www.wycliffe.org","language":{"iso":"acc","human":"Achi
       de Cubulco"},"booklist":"accnt","copyright":"(c) Wycliffe Bible Translators,
-      Inc.","offline_android":"true","offline_blackberry":"true","offline_ios":"true","offline":"true","filesize":"","min_offline_build":"1","max_offline_build":"1","verse_ranges":"true","facebook":"true","audio":"false","text_direction":"ltr"}},"defaults":{"bg":"bg1940","cs":"b21","es":"rvr60","fi":"finpr","hu":"kar","id":"idbar","ja":"ja1955","ko":"korvb","no":"nb","pt":"aa","ru":"rursv","vi":"vi1934","zh_CN":"cuvs","zh_TW":"cuv","en":"kjv","ro":"vdc","ar":"nav","it":"nr94","nl":"htb","de":"hfa","sv":"sfb"},"totals":{"versions":169,"languages":52}},"buildtime":"2011-10-25T21:20:14+00:00"}}'
+      Inc.","offline_android":"true","offline_blackberry":"true","offline_ios":"true","offline":"true","filesize":"","min_offline_build":"1","max_offline_build":"1","verse_ranges":"true","facebook":"true","audio":"false","text_direction":"ltr"}},"defaults":{"bg":"bg1940","cs":"b21","es":"rvr60","fi":"finpr","hu":"kar","id":"idbar","ja":"ja1955","ko":"korvb","no":"nb","pt":"aa","ru":"rursv","vi":"vi1934","zh_CN":"cuvs","zh_TW":"cuv","en":"kjv","ro":"vdc","ar":"nav","it":"nr94","nl":"htb","de":"hfa","sv":"sfb"},"totals":{"versions":169,"languages":52}},"buildtime":"2011-10-28T16:21:27+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -358,7 +358,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:15 GMT
+      - Fri, 28 Oct 2011 16:21:28 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -429,7 +429,7 @@
       and noncommercial use that exceed the above guidelines must be directed to and
       approved in writing by NavPress Publishing Group, Permissions, P.O. Box 35001,
       Colorado Springs, Co 80935. (<a href=\"http:\/\/www.messagebible.com\/\" target=\"_blank\">http:\/\/www.messagebible.com<\/a>)<\/p>\n\n<p><a
-      href=\"http:\/\/www.messagebible.com\"><em>The Message<\/em> Web Site: http:\/\/www.messagebible.com<\/a><\/p>"},"buildtime":"2011-10-25T21:20:15+00:00"}}'
+      href=\"http:\/\/www.messagebible.com\"><em>The Message<\/em> Web Site: http:\/\/www.messagebible.com<\/a><\/p>"},"buildtime":"2011-10-28T16:21:28+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -447,7 +447,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:15 GMT
+      - Fri, 28 Oct 2011 16:21:28 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -474,7 +474,7 @@
       Peter","chapters":3,"verses":[21,22,18],"audio":false},{"number":62,"osis":"1John","human":"1
       John","chapters":5,"verses":[10,29,24,21,21],"audio":false},{"number":63,"osis":"2John","human":"2
       John","chapters":1,"verses":[13],"audio":false},{"number":64,"osis":"3John","human":"3
-      John","chapters":1,"verses":[14],"audio":false},{"number":65,"osis":"Jude","human":"Jude","chapters":1,"verses":[25],"audio":false},{"number":66,"osis":"Rev","human":"Revelation","chapters":22,"verses":[20,29,22,11,14,17,17,13,21,11,19,17,18,20,8,21,18,24,21,15,27,21],"audio":false}],"buildtime":"2011-10-25T21:20:15+00:00"}}'
+      John","chapters":1,"verses":[14],"audio":false},{"number":65,"osis":"Jude","human":"Jude","chapters":1,"verses":[25],"audio":false},{"number":66,"osis":"Rev","human":"Revelation","chapters":22,"verses":[20,29,22,11,14,17,17,13,21,11,19,17,18,20,8,21,18,24,21,15,27,21],"audio":false}],"buildtime":"2011-10-28T16:21:28+00:00"}}'
     http_version: '1.1'
 - !ruby/struct:VCR::HTTPInteraction
   request: !ruby/struct:VCR::Request
@@ -492,7 +492,7 @@
       server:
       - nginx/0.7.67
       date:
-      - Tue, 25 Oct 2011 21:20:16 GMT
+      - Fri, 28 Oct 2011 16:21:29 GMT
       content-type:
       - text/plain; charset=utf-8
       transfer-encoding:
@@ -565,5 +565,5 @@
       And there it was.<\/span><\/p><p><span class=\"verse Gen_1_31\"><strong>31<\/strong>\u00a0God
       looked over everything he had made; it was so good, so very good! It was evening,
       it was morning-Day Six.<\/span><\/p><\/div>\n","audio":null},"previous":"","next":{"reference":{"osis":"Gen.2","human":"Genesis
-      2"}}},"buildtime":"2011-10-25T21:20:16+00:00"}],"buildtime":"2011-10-25T21:20:16+00:00"}}'
+      2"}}},"buildtime":"2011-10-28T16:21:29+00:00"}],"buildtime":"2011-10-28T16:21:29+00:00"}}'
     http_version: '1.1'
diff --git a/lib/osis.rb b/lib/osis.rb
index 244be4b..a4b3c30 100644
--- a/lib/osis.rb
+++ b/lib/osis.rb
@@ -28,4 +28,12 @@ class Hash
     string += "." + self[:version] if self[:version]
     string
   end
+  
+  def to_osis_string_noversion
+    string = self[:book]
+    self[:chapter].is_a?(Range) ? string += "." + self[:chapter].first.to_s + "-" + self[:chapter].last.to_s : string += "." + self[:chapter].to_s if self[:chapter]
+    self[:verse].is_a?(Range) ? string += "." + self[:verse].first.to_s + "-" + self[:verse].last.to_s : string += "." + self[:verse].to_s if self[:verse]
+    string
+  end
+  
 end
-- 
1.7.0.4

