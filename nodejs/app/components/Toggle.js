import React, { Component } from 'react'

class Toggle extends Component {

	constructor(props) {
		super(props)

		this.state = { value: props.initialValue || false }

		this.check = (
			<svg className="toggle-check" width="10px" height="7px" viewBox="0 0 10 7" version="1.1">
				<g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
					<g transform="translate(-634.000000, -348.000000)" fill="#000000">
						<g transform="translate(615.000000, 135.000000)">
							<path d="M27.1875,214.078125 L22.5,218.796875 L20.390625,216.6875 C20.2864578,216.583333 20.1666673,216.53125 20.03125,216.53125 C19.8958327,216.53125 19.7760422,216.583333 19.671875,216.6875 C19.5781245,216.78125 19.53125,216.898437 19.53125,217.039062 C19.53125,217.179688 19.5781245,217.296875 19.671875,217.390625 L22.15625,219.859375 C22.2500005,219.963542 22.3671868,220.015625 22.5078125,220.015625 C22.6484382,220.015625 22.7656245,219.963542 22.859375,219.859375 C22.8697917,219.848958 22.8802083,219.838542 22.890625,219.828125 C22.9010417,219.817708 22.9114583,219.807292 22.921875,219.796875 L27.90625,214.78125 C28.0000005,214.6875 28.046875,214.570313 28.046875,214.429688 C28.046875,214.289062 28.0000005,214.171875 27.90625,214.078125 C27.8020828,213.973958 27.6822923,213.921875 27.546875,213.921875 C27.4114577,213.921875 27.2916672,213.973958 27.1875,214.078125 L27.1875,214.078125 Z"></path>
						</g>
					</g>
				</g>
			</svg>
		)

		this.circle = (
			<svg className="toggle-circle" width="16px" height="16px" viewBox="0 0 16 16" version="1.1">
				<g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
					<g transform="translate(-631.000000, -299.000000)" fill="#000000">
						<g transform="translate(615.000000, 135.000000)">
							<path d="M24,164 C22.8958278,164 21.8567757,164.208331 20.8828125,164.625 C19.9088493,165.041669 19.0598995,165.611976 18.3359375,166.335938 C17.6119755,167.059899 17.0416688,167.908849 16.625,168.882812 C16.2083312,169.856776 16,170.895828 16,172 C16,173.104172 16.2083312,174.143224 16.625,175.117188 C17.0416688,176.091151 17.6119755,176.940101 18.3359375,177.664062 C19.0598995,178.388024 19.9088493,178.958331 20.8828125,179.375 C21.8567757,179.791669 22.8958278,180 24,180 C25.1041722,180 26.1432243,179.791669 27.1171875,179.375 C28.0911507,178.958331 28.9401005,178.388024 29.6640625,177.664062 C30.3880245,176.940101 30.9583312,176.091151 31.375,175.117188 C31.7916688,174.143224 32,173.104172 32,172 C32,170.895828 31.7916688,169.856776 31.375,168.882812 C30.9583312,167.908849 30.3880245,167.059899 29.6640625,166.335938 C28.9401005,165.611976 28.0911507,165.041669 27.1171875,164.625 C26.1432243,164.208331 25.1041722,164 24,164 L24,164 Z M24,179.015625 C23.0312452,179.015625 22.1224001,178.830731 21.2734375,178.460938 C20.4244749,178.091144 19.684899,177.588545 19.0546875,176.953125 C18.424476,176.317705 17.924481,175.575525 17.5546875,174.726562 C17.184894,173.8776 17,172.968755 17,172 C17,171.031245 17.184894,170.1224 17.5546875,169.273438 C17.924481,168.424475 18.424476,167.684899 19.0546875,167.054688 C19.684899,166.424476 20.4244749,165.924481 21.2734375,165.554688 C22.1224001,165.184894 23.0312452,165 24,165 C24.9687548,165 25.8775999,165.184894 26.7265625,165.554688 C27.5755251,165.924481 28.315101,166.424476 28.9453125,167.054688 C29.575524,167.684899 30.075519,168.424475 30.4453125,169.273438 C30.815106,170.1224 31,171.031245 31,172 C31,172.968755 30.815106,173.8776 30.4453125,174.726562 C30.075519,175.575525 29.575524,176.317705 28.9453125,176.953125 C28.315101,177.588545 27.5755251,178.091144 26.7265625,178.460938 C25.8775999,178.830731 24.9687548,179.015625 24,179.015625 L24,179.015625 Z"></path>
						</g>
					</g>
				</g>
			</svg>
		)

		this.handleClick = ::this.handleClick
	}

	handleClick() {
		const { onClick } = this.props
		if (typeof onClick === 'function') {
			onClick(!this.state.value)
		}
		this.setState({ value: !this.state.value })
	}

	render() {
		const { label } = this.props
		const selectedClass = this.state.value ? 'selected' : ''
		return (
			<div className={`toggle ${selectedClass}`} onClick={this.handleClick}>
				<div className='toggle-button'>
					{this.circle}
					{this.check}
				</div>
				<div className='toggle-label'>{label}</div>
			</div>
		)
	}
}

Toggle.propTypes = {
	label: React.PropTypes.node,
	initialValue: React.PropTypes.bool
}

export default Toggle