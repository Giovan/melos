- @sidebar = false
- @title = @me ? t('users.my friends') : t('users.user friends', user: @user.name || @user.username)
- content_for :title do
  = @title

.profile-friends

  - if current_user_is? @user
    
    - if @friends.present? 
      .friends-count
        %p.friends-count-have
          = "You have #{@friends.count} friends"
        %span.friends-count-canhave
          You can have as many as 150
        %span.friends-count-help
          Too many friends is bad for your health. Show some restraint, man!

        - # Web doesn't have a way to find friends at the moment
        - # apps only support uploading contact lists.
        - #%a{href: "#", class: "friends-count-find action_button_blue"} Find friends

    - if @friends.present? # show my friends
      = render partial: "friendships/friends_list", locals: {friends: @friends, user: @user}

    - else # I don't have friends
      %h2
        I don't have friends!!

  - elsif Friend.with? @user, auth: current_auth # We can only 
    = render partial: "friendships/friends_list", locals: {friends: @friends, user: @user}

  - else
    - # Not frineds - We don't show a users friends publicly